{"version":3,"file":"App-gzmGK76F.js","sources":["../../src/pages/shorts/BottomNav.jsx","../../src/pages/shorts/hooks/useIsInViewport.js","../../src/pages/shorts/assets/icons/mixtape.svg","../../src/pages/shorts/toggle.jsx","../../src/pages/shorts/shorts.jsx","../../src/pages/shorts/App.jsx"],"sourcesContent":["const BottomNav = () => {\n  return (\n    <nav className=\"bottom-nav\">\n      <a className=\"navbar-brand\" href=\"/\">\n        <i className=\"fa fa-home\"></i>\n      </a>\n      <a className=\"navbar-brand\" href=\"/\">\n        <i className=\"fa fa-search\"></i>\n      </a>\n      <a className=\"navbar-brand\" href=\"/\">\n        <i className=\"fa fa-plus\"></i>\n      </a>\n      <a className=\"navbar-brand\" href=\"/\">\n        <i className=\"fa fa-commenting\"></i>\n      </a>\n      <a className=\"navbar-brand\" href=\"/\">\n        <i className=\"fa fa-user\"></i>\n      </a>\n    </nav>\n  );\n};\n\nexport default BottomNav;\n","import { useEffect, useState, useMemo } from \"react\";\n\nlet audios = [];\n\nfunction useIsInViewport(ref) {\n  const [isIntersecting, setIsIntersecting] = useState(false);\n\n  const observer = useMemo(\n    () =>\n      new IntersectionObserver(([entry]) => {\n        setIsIntersecting(entry.isIntersecting);\n        if (entry.isIntersecting) {\n          audios.forEach((audio) => {\n            if (audio !== ref.current) {\n              audio.pause();\n            } else {\n              audio.play();\n            }\n          });\n        }\n      }),\n    []\n  );\n\n  useEffect(() => {\n    audios.push(ref.current);\n    observer.observe(ref.current);\n\n    return () => {\n      audios = audios.filter((audio) => audio !== ref.current);\n      observer.disconnect();\n    };\n  }, [ref, observer]);\n\n  return isIntersecting;\n}\n\nexport default useIsInViewport;\n","export default \"__VITE_ASSET__BeRPbvMn__\"","import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from \"./toggle.module.css\";\n\nconst Toggle = () => {\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const navigate = useNavigate();\n\n  const changeTheme = () => {\n    document.body.classList.toggle(\"dark-mode\");\n    setIsDarkMode(!isDarkMode);\n\n    // Redirecciona a una URL diferente\n    navigate(isDarkMode ? \"/\" : \"/4b\");\n  };\n\n  return (\n    <div className={styles.container}>\n      <div\n        className={`${styles.slider} ${isDarkMode ? styles.active : \"\"}`}\n        onClick={changeTheme}\n      >\n        <div className={styles.circle}></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Toggle;","import { useRef, useEffect, useState } from \"react\";\nimport useIsInViewport from \"./hooks/useIsInViewport\";\nimport PlayIcon from './assets/icons/mixtape.svg';\nimport styles from \"./shorts.module.css\";\nimport Toggle from './toggle';\n\nconst Descubre = ({ index, songName, songimg, songCut, author, authorLink, setCurrentPlaying, currentPlaying }) => {\n  const audio = useRef();\n  const isInViewport = useIsInViewport(audio);\n  const [isPaused, setIsPaused] = useState(true);\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    const currentAudio = audio.current;\n\n    const handlePlayPause = () => {\n      if (isInViewport && currentPlaying !== index) {\n        setCurrentPlaying(index);\n      }\n    };\n\n    handlePlayPause();\n\n    window.addEventListener('scroll', handlePlayPause);\n\n    return () => {\n      window.removeEventListener('scroll', handlePlayPause);\n    };\n  }, [isInViewport, currentPlaying, index, setCurrentPlaying]);\n\n  useEffect(() => {\n    const currentAudio = audio.current;\n\n    if (currentPlaying === index) {\n      currentAudio.play();\n      setIsPaused(false);\n    } else {\n      currentAudio.pause();\n      setIsPaused(true);\n    }\n  }, [currentPlaying, index]);\n\n  const togglePlayPause = () => {\n    if (audio.current.paused) {\n      audio.current.play();\n      setIsPaused(false);\n      setCurrentPlaying(index);\n    } else {\n      audio.current.pause();\n      setIsPaused(true);\n    }\n  };\n\n  const handleTimeUpdate = () => {\n    const currentAudio = audio.current;\n    if (currentAudio) {\n      const progressPercentage = (currentAudio.currentTime / currentAudio.duration) * 100;\n      setProgress(progressPercentage);\n    }\n  };\n\n  return (\n    <div className={styles.sliderChildren}>\n      <div className={`${styles.backgroundImage} ${!isPaused ? styles.playing : \"\"}`} style={{ backgroundImage: `url(${songimg})` }}></div>\n      <img src={songimg} alt={songName} className={`${styles.songImage} ${!isPaused ? styles.playing : \"\"}`} />\n\n      <audio className={styles.audio} ref={audio} id={index} onTimeUpdate={handleTimeUpdate}>\n        <source src={songCut} type=\"audio/mp3\" />\n      </audio>\n\n      <div className={styles.audioOverlay} onClick={togglePlayPause}>\n        {isPaused && <img src={PlayIcon} alt=\"Play\" className={styles.playIcon} />}\n      </div>\n\n      <div className={styles.audioContent}>\n        <p className=\"m-0\">@{author}</p>\n        <p>Post by <a href={authorLink}>{author}</a> en Mixtape</p>\n      </div>\n\n      <Toggle />\n\n      {/* ðŸ”¹ Barra de progreso */}\n      <div className={styles.progressBar} style={{ width: `${progress}%` }}></div>\n    </div>\n  );\n};\n\nexport default Descubre;","import { useState, useEffect } from \"react\";\nimport BottomNav from \"./BottomNav\";\nimport Descubre from \"./shorts\";\nimport \"./assets/index.css\";\nimport { DESCUBRE } from '../../data/reels';\nimport Topnav from '../../component/topnav/topnav';\n\nfunction App() {\n  const [videosState, setVideos] = useState([]);\n  const [videosLoaded, setVideosLoaded] = useState(false);\n  const [currentPlaying, setCurrentPlaying] = useState(null); // Estado para manejar el contenido en reproducciÃ³n\n\n  useEffect(() => {\n    setVideos(DESCUBRE);\n    setVideosLoaded(true);\n  }, []);\n\n  return (\n    <main>\n      {/* <Topnav /> */}\n      \n      <div className=\"slider-container\">\n        {videosLoaded && videosState.length > 0 ? (\n          <div>\n            {videosState.map((video, id) => (\n              <Descubre\n                key={id}\n                index={id}  // AsegÃºrate de que `index` sea el `id` del array\n                songName={video.songName}\n                songimg={video.songimg}\n                songCut={video.songCut}\n                author={video.author}\n                authorLink={video.authorLink}\n                setCurrentPlaying={setCurrentPlaying}\n                currentPlaying={currentPlaying}\n              />\n            ))}\n          </div>\n        ) : (\n          <div>Loading...</div>\n        )}\n      </div>\n\n      <BottomNav />\n    </main>\n  );\n}\n\nexport default App;\n"],"names":["BottomNav","jsxs","jsx","audios","useIsInViewport","ref","isIntersecting","setIsIntersecting","useState","observer","useMemo","entry","audio","useEffect","PlayIcon","Toggle","isDarkMode","setIsDarkMode","navigate","useNavigate","changeTheme","styles","Descubre","index","songName","songimg","songCut","author","authorLink","setCurrentPlaying","currentPlaying","useRef","isInViewport","isPaused","setIsPaused","progress","setProgress","handlePlayPause","currentAudio","togglePlayPause","handleTimeUpdate","progressPercentage","App","videosState","setVideos","videosLoaded","setVideosLoaded","DESCUBRE","video","id"],"mappings":"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"}