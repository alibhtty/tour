import{j as e,r as m,p as A,F as M,G as E,L as k,H as w}from"./index-Df_150rz.js";const S="_lineupContainer_17pnh_1",D="_timeline_17pnh_10",H="_point_17pnh_21",R="_current_17pnh_32",$="_time_17pnh_10",L="_time2_17pnh_37",W="_label_17pnh_48",t={lineupContainer:S,timeline:D,point:H,current:R,time:$,time2:L,label:W},F=({programacionAnterior:n,programacionActual:o,programacionProxima:r})=>e.jsx("div",{className:t.lineupContainer,children:e.jsxs("div",{className:t.timeline,children:[e.jsxs("div",{className:t.point,children:[e.jsx("span",{className:t.time2,children:n.startTime}),e.jsx("span",{className:t.label,children:n.title})]}),e.jsx("div",{className:`${t.point} ${t.current}`,children:e.jsx("span",{className:t.time,children:o.startTime})}),e.jsxs("div",{className:t.point,children:[e.jsx("span",{className:t.time2,children:r.startTime}),e.jsx("span",{className:t.label,children:r.title})]})]})}),O="_radioContainer_12mf2_1",U="_coverContainer_12mf2_10",z="_blurBackground_12mf2_21",G="_imagePlaceholder_12mf2_34",Z="_coverImage_12mf2_43",q="_programTitle_12mf2_72",J="_playPauseButton_12mf2_81",K="_noProgramText_12mf2_90",Q="_noProgramContainer_12mf2_125",V="_noProgramImage_12mf2_129",X="_viewPlaylistsButton_12mf2_135",Y="_iconWrapper_12mf2_150",ee="_icon_12mf2_150",ne="_onAirButton_12mf2_167",ae="_led_12mf2_180",te="_parpadeo_12mf2_1",a={radioContainer:O,coverContainer:U,blurBackground:z,imagePlaceholder:G,coverImage:Z,programTitle:q,playPauseButton:J,noProgramText:K,noProgramContainer:Q,noProgramImage:V,viewPlaylistsButton:X,iconWrapper:Y,icon:ee,onAirButton:ne,led:ae,parpadeo:te},re="/assets/espera-Z8puz65r.webp",se=()=>{const n=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"],o=new Date().getDay();return w[n[o]]||[]},ie=()=>{const[n,o]=m.useState(null),[r,u]=m.useState(!1),[f,v]=m.useState(!1),i=m.useRef(new Audio),s=se(),P=s.findIndex(c=>c.title===(n==null?void 0:n.title)),N=Math.max(0,P-1),y=Math.min(s.length-1,P+1);m.useEffect(()=>{const c=()=>{const j=new Date,p=j.getHours()*60+j.getMinutes();if(s.length===0)return;const l=s.find(d=>{const[_,g]=d.startTime.split(":").map(Number),h=_*60+g,[x,T]=d.endTime.split(":").map(Number),B=x*60+T;return p>=h&&p<B});if(l){if(!n||n.src!==l.src){o(l),i.current.src=l.src;const[d,_]=l.startTime.split(":").map(Number),g=d*60+_,h=(p-g)*60;i.current.currentTime=Math.max(0,h),f&&(i.current.play().catch(x=>{console.error("Error al intentar reproducir el audio: ",x)}),u(!0))}}else r&&(i.current.pause(),u(!1),o(null))},I=setInterval(c,2e4);return c(),()=>clearInterval(I)},[n,r,f,s]);const b=()=>{r?(i.current.pause(),u(!1)):(i.current.play().catch(c=>{console.error("Error al intentar reproducir el audio: ",c)}),u(!0))},C=()=>{v(!0)};return e.jsx(A.div,{initial:{opacity:0,scale:1.005},animate:{opacity:1,scale:1},transition:{duration:.4,ease:"easeInOut"},className:a.radioContainer,onClick:C,children:n?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:a.onAirButton,children:["ON AIR",e.jsx("div",{className:a.led})]}),e.jsxs("div",{className:a.coverContainer,children:[e.jsx("div",{className:a.blurBackground,style:{backgroundColor:n.color||"#000000"}}),e.jsx("div",{className:a.imagePlaceholder,children:e.jsx("img",{src:n.cover,alt:"Portada del programa",className:a.coverImage,onLoad:()=>console.log("Imagen cargada")})}),e.jsx("h2",{className:a.programTitle,children:n.title})]}),e.jsx("button",{onClick:b,className:a.playPauseButton,children:e.jsx("div",{className:a.iconWrapper,children:r?e.jsx(M,{className:a.icon}):e.jsx(E,{className:a.icon})})}),e.jsx(F,{programacionAnterior:s[N],programacionActual:n,programacionProxima:s[y]})]}):e.jsxs("div",{className:a.noProgramContainer,children:[e.jsx("img",{src:re,alt:"No hay programación",className:a.noProgramImage}),e.jsxs("p",{className:a.noProgramText,children:["No hay programación ",e.jsx("br",{})," en este momento."]}),e.jsx(k,{to:"/djs",className:a.viewPlaylistsButton,children:"Descubrir"})]})})};export{ie as default};
//# sourceMappingURL=programasRadio-BMjlFxMU.js.map
